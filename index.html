<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>项目创建 | FED</title>
    <meta name="generator" content="VuePress 1.7.1">
    <link rel="icon" href="/dev/favicon.ico">
    <meta name="description" content="">
    
    <link rel="preload" href="/dev/assets/css/0.styles.4f7070c5.css" as="style"><link rel="preload" href="/dev/assets/js/app.e2738474.js" as="script"><link rel="preload" href="/dev/assets/js/2.e5260363.js" as="script"><link rel="preload" href="/dev/assets/js/11.dfe0b9ae.js" as="script"><link rel="prefetch" href="/dev/assets/js/10.b17e0bf5.js"><link rel="prefetch" href="/dev/assets/js/12.fe2ef6fc.js"><link rel="prefetch" href="/dev/assets/js/13.69469be5.js"><link rel="prefetch" href="/dev/assets/js/14.f23fef41.js"><link rel="prefetch" href="/dev/assets/js/15.4802a148.js"><link rel="prefetch" href="/dev/assets/js/16.6a72a876.js"><link rel="prefetch" href="/dev/assets/js/17.e7cab234.js"><link rel="prefetch" href="/dev/assets/js/18.e5fc7ec6.js"><link rel="prefetch" href="/dev/assets/js/3.da4686f2.js"><link rel="prefetch" href="/dev/assets/js/4.c19a3275.js"><link rel="prefetch" href="/dev/assets/js/5.58b7cc8f.js"><link rel="prefetch" href="/dev/assets/js/6.f9d50154.js"><link rel="prefetch" href="/dev/assets/js/7.bd7eea3e.js"><link rel="prefetch" href="/dev/assets/js/8.efa3b4a2.js"><link rel="prefetch" href="/dev/assets/js/9.685cd26d.js">
    <link rel="stylesheet" href="/dev/assets/css/0.styles.4f7070c5.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/dev/" aria-current="page" class="home-link router-link-exact-active router-link-active"><img src="/dev/logo.png" alt="FED" class="logo"> <span class="site-name can-hide">FED</span></a> <div class="links"><!----> <nav class="nav-links can-hide"><div class="nav-item"><a href="/dev/" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  项目创建
</a></div><div class="nav-item"><a href="/dev/DevOps/" class="nav-link">
  DevOps
</a></div><div class="nav-item"><a href="/dev/packages.html" class="nav-link">
  工具/库
</a></div><div class="nav-item"><a href="/dev/post/" class="nav-link">
  文章
</a></div><div class="nav-item"><a href="/dev/qa.html" class="nav-link">
  常见问题
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="其他" class="dropdown-title"><span class="title">其他</span> <span class="arrow down"></span></button> <button type="button" aria-label="其他" class="mobile-dropdown-title"><span class="title">其他</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://open.workplus.io/v4/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  开放平台
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://open.workplus.io/cordova/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Cordova 文档
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://github.com/WorkPlusFE/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/dev/" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  项目创建
</a></div><div class="nav-item"><a href="/dev/DevOps/" class="nav-link">
  DevOps
</a></div><div class="nav-item"><a href="/dev/packages.html" class="nav-link">
  工具/库
</a></div><div class="nav-item"><a href="/dev/post/" class="nav-link">
  文章
</a></div><div class="nav-item"><a href="/dev/qa.html" class="nav-link">
  常见问题
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="其他" class="dropdown-title"><span class="title">其他</span> <span class="arrow down"></span></button> <button type="button" aria-label="其他" class="mobile-dropdown-title"><span class="title">其他</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://open.workplus.io/v4/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  开放平台
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://open.workplus.io/cordova/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Cordova 文档
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://github.com/WorkPlusFE/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>项目创建</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/dev/#w6s-cli" class="sidebar-link">w6s-cli</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/dev/#安装" class="sidebar-link">安装</a></li><li class="sidebar-sub-header"><a href="/dev/#通过-w6s-init-创建" class="sidebar-link">通过 w6s init 创建</a></li></ul></li><li><a href="/dev/#项目介绍" class="sidebar-link">项目介绍</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/dev/#技术栈" class="sidebar-link">技术栈</a></li><li class="sidebar-sub-header"><a href="/dev/#目录说明" class="sidebar-link">目录说明</a></li><li class="sidebar-sub-header"><a href="/dev/#scripts-命令说明" class="sidebar-link">scripts 命令说明</a></li><li class="sidebar-sub-header"><a href="/dev/#w6s-cli-script" class="sidebar-link">w6s-cli-script</a></li><li class="sidebar-sub-header"><a href="/dev/#w6s-config-js" class="sidebar-link">w6s.config.js</a></li></ul></li><li><a href="/dev/#默认插件" class="sidebar-link">默认插件</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/dev/#babel" class="sidebar-link">babel</a></li><li class="sidebar-sub-header"><a href="/dev/#eslint" class="sidebar-link">eslint</a></li><li class="sidebar-sub-header"><a href="/dev/#stylelint" class="sidebar-link">stylelint</a></li><li class="sidebar-sub-header"><a href="/dev/#typescript" class="sidebar-link">typescript</a></li><li class="sidebar-sub-header"><a href="/dev/#mock" class="sidebar-link">mock</a></li><li class="sidebar-sub-header"><a href="/dev/#vconsole" class="sidebar-link">vConsole</a></li><li class="sidebar-sub-header"><a href="/dev/#sentry" class="sidebar-link">Sentry</a></li><li class="sidebar-sub-header"><a href="/dev/#i18n" class="sidebar-link">i18n</a></li><li class="sidebar-sub-header"><a href="/dev/#style-resources-loader" class="sidebar-link">style-resources-loader</a></li></ul></li><li><a href="/dev/#项目规范" class="sidebar-link">项目规范</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/dev/#eslint-2" class="sidebar-link">eslint</a></li><li class="sidebar-sub-header"><a href="/dev/#stylelint-2" class="sidebar-link">stylelint</a></li><li class="sidebar-sub-header"><a href="/dev/#commitlint" class="sidebar-link">commitlint</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="项目创建"><a href="#项目创建" class="header-anchor">#</a> 项目创建</h1> <blockquote><p>&quot;无规范不成方圆&quot;，规范的一致遵守能收敛噪音，达到一致性。在软件工程的领域，当规范演变成规则后，软件开发的持续交付会因为规则的遵守而得以保持垂直、正交，熵的变化也能有可见的收敛。</p></blockquote> <h2 id="w6s-cli"><a href="#w6s-cli" class="header-anchor">#</a> w6s-cli</h2> <p><code>@w6s/cli</code>是团队内部指定使用的 cli 工具，常用于快速创建项目初始架构。更多关于 w6s-cli 的详细介绍，可以查看<a href="/dev/cli.html">w6s-cli</a>栏目。</p> <h3 id="安装"><a href="#安装" class="header-anchor">#</a> 安装</h3> <p>通过以下命令进行安装：</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">yarn</span> global <span class="token function">add</span> @w6s/cli
<span class="token comment"># or</span>
<span class="token function">npm</span> <span class="token function">install</span> -g @w6s/cli
</code></pre></div><p>安装成功后，在 shell 中键入<code>w6s</code>，即可查看所有功能说明。</p> <h3 id="通过-w6s-init-创建"><a href="#通过-w6s-init-创建" class="header-anchor">#</a> 通过 w6s init 创建</h3> <p>当前<code>w6s-cli</code>内置两个项目模版，分别是<code>admin</code>和<code>H5</code>，如其名，admin 为管理后台类型的前端项目模版，而 H5 就是轻应用的前端项目模版。</p> <p>假设当前在文件目录A， 执行以下命令：</p> <div class="language-bash extra-class"><pre class="language-bash"><code>w6s init project1
</code></pre></div><p>此时，会要求使用者选择项目模版，通过<code>上下方向键</code>选择需要的模版即可。</p> <p>选择模版后，cli 会自动在 A 目录下创建 project1 文件夹，并把所选的项目模版生成到 project1 文件夹内，在这之前会有一些人机交互，使用者需要输入一些简单的项目信息：</p> <div class="language-bash extra-class"><pre class="language-bash"><code>? 请输入项目名称 project1
? 请输入项目描述 project1
? 请输入项目创建者 hejx
</code></pre></div><p>项目创建完毕后，会询问是否自动安装依赖及启动服务，然后输入<code>yes/no</code>即可。cli 会自动判断你的电脑上所安装的<code>Node.js包管理器</code>，优先会使用<code>Yarn</code>进行依赖的安装。</p> <p>如果没有选择自动安装依赖及启动服务，需要进入 project1 文件夹，执行以下命令：</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># 进入目录</span>
<span class="token builtin class-name">cd</span> project1

<span class="token comment"># 安装依赖</span>
<span class="token function">yarn</span>

<span class="token comment"># 安装成功后，启动服务</span>
<span class="token function">yarn</span> serve <span class="token comment"># yarn dev 同样可用</span>
</code></pre></div><h2 id="项目介绍"><a href="#项目介绍" class="header-anchor">#</a> 项目介绍</h2> <h3 id="技术栈"><a href="#技术栈" class="header-anchor">#</a> 技术栈</h3> <p>核心技术栈：</p> <ul><li>vue@2.6.11</li> <li>vue-router@3.1.6</li> <li>vuex@3.1.3&quot;</li> <li>vue-i18n@8.17.5</li> <li>typescript@3.8.3</li> <li>axios@0.19.2</li> <li>vue-class-component@7.2.3</li> <li>vue-property-decorator@8.4.1</li> <li>vuex-module-decorators@0.17.0</li></ul> <p>其他：</p> <ul><li>core-js@3.6.5</li> <li>@sentry
<ul><li>browser@5.15.5</li> <li>integrations@5.15.5</li></ul></li> <li>@w6s
<ul><li>sdk</li></ul></li></ul> <p>UI库</p> <ul><li><code>admin</code> element-ui@2.9.2</li> <li><code>H5</code> vant@2.8.1</li></ul> <h3 id="目录说明"><a href="#目录说明" class="header-anchor">#</a> 目录说明</h3> <p>以<code>H5</code>模版为例，当前项目文件结构如下：</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token builtin class-name">.</span>
├── README.md
├── babel.config.js            --- babel 配置文件
├── commitlint.config.js       --- commitlint 配置文件
├── mock                       --- 模拟 api，mock 服务
│   └── index.js
├── package.json
├── public
│   ├── favicon.ico
│   └── index.html
├── sentry.config.js           --- sentry 配置
├── src
│   ├── App.vue
│   ├── api                    --- api 目录
│   │   └── user.ts
│   ├── assets                 --- 放置静态资源
│   │   └── logo.png
│   ├── components
│   │   └── HelloWorld.vue
│   ├── i18n.ts                --- 国际化配置入口
│   ├── locales                --- 国际化文件存放位置
│   │   └── zh-CN.json
│   ├── main.ts
│   ├── router                 --- 路由配置
│   │   └── index.ts
│   ├── shims-tsx.d.ts
│   ├── shims-vue.d.ts
│   ├── store                  --- vuex 配置
│   │   ├── index.ts
│   │   └── modules
│   │       └── Counter.ts
│   ├── styles
│   │   └── index.scss
│   ├── typings
│   │   └── Common.ts
│   ├── utils
│   │   ├── cordova            --- cordova 相关，引入了 @w6s/codash
│   │   │   └── index.ts
│   │   ├── http               --- http 相关，封装了一些 api 请求方法
│   │   │   └── https.ts
│   │   └── sentry             --- sentry 模块的设置
│   │       └── index.ts
│   └── views                  --- 页面
│       ├── About.vue
│       └── Home.vue
├── stylelint.config.js        --- stylelint 配置
├── tsconfig.json              --- typescript 配置
├── w6s.config.js              --- w6s-cli-script 配置（详情请看 w6s.config.js 栏目）
├── .browserslistrc            --- babel 转换的目标浏览器版本配置文件
├── .editorconfig              --- ide 的一些默认配置，例如缩进为2个空格
├── .env                       --- 环境配置文件（生产配置）
├── .env.development           --- 环境配置文件（开发配置）
└── .eslintrc                  --- eslint 的配置文件
</code></pre></div><h3 id="scripts-命令说明"><a href="#scripts-命令说明" class="header-anchor">#</a> scripts 命令说明</h3> <p>具体可用命令，请在项目的根目录查看<code>package.json</code>的<code>scripts</code>标签，以下做简单的作用描述：</p> <ul><li><code>dev</code> -- 启动服务，用于项目开发</li> <li><code>serve</code> -- 同上</li> <li><code>build</code> -- 对项目进行打包</li> <li><code>lint</code> -- js 代码检测</li> <li><code>lint:style</code> -- 样式检测</li> <li><code>i18n:report</code> -- 检测 i18n 的配置是否有缺漏或者存在没被使用的属性</li> <li><code>inspect</code> -- 打印出项目的 webpack 配置</li> <li><code>svg</code> -- 通过<code>vue-svgicon</code>，把 svg 图标生成 vue 控件</li></ul> <h3 id="w6s-cli-script"><a href="#w6s-cli-script" class="header-anchor">#</a> w6s-cli-script</h3> <p>在上一步 scripts 命令里，例如<code>dev</code>命令，是通过<code>w6s-cli-script dev</code>执行的。<code>w6s-cli-script</code>实际是对<code>@vue/cli-service</code>的上层封装，除了原始的几个命令方法，包括<code>serve</code>、<code>build</code>、<code>inspect</code>及<code>lint</code>，<code>w6s-cli-script</code>还内置了<code>i18n:report</code>和<code>lint:style</code>，以及一系列的插件。也就是说，<code>@vue/cli-service</code>支持的，<code>w6s-cli-script</code>同样支持，例如，添加第三方的 vue-cli 插件。</p> <blockquote><p>不能通过 vue add plugin 的方式添加，因为某些插件会改变文件内容，例如在 vue.config.js 添加配置</p></blockquote> <h3 id="w6s-config-js"><a href="#w6s-config-js" class="header-anchor">#</a> w6s.config.js</h3> <p>为了让项目看起来更加专业（装逼），配置文件被命名为<code>w6s.config.js</code>，这个配置文件会被<code>w6s-cli-script</code>读取（如果存在的话）。项目创建后，<code>w6s.config.js</code>会有一些初始的配置，例如某些插件的初始化配置，同时，<code>w6s.config.js</code>的所有设置，实际跟<code>vue.config.js</code>是一致的，也就是说，相关的构建配置，可以直接查看 <a href="https://cli.vuejs.org/config/#vue-config-js" target="_blank" rel="noopener noreferrer">vue-cli<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 官网。</p> <h2 id="默认插件"><a href="#默认插件" class="header-anchor">#</a> 默认插件</h2> <blockquote><p>所有配置文件，若无特殊原因，请勿随意修改</p></blockquote> <h3 id="babel"><a href="#babel" class="header-anchor">#</a> babel</h3> <p>bable 使用的是<code>@vue/cli-plugin-babel</code>，相关配置请查看<code>babel.config.js</code>。其中针对不同项目模板的 UI 库，默认支持按需引入。</p> <h3 id="eslint"><a href="#eslint" class="header-anchor">#</a> eslint</h3> <p>eslint 使用的是<code>@vue/cli-plugin-eslint</code>，相关配置请查看<code>.eslintrc.js</code>，当前使用的规范是<code>@w6s/eslint-config</code>。</p> <div class="language-js extra-class"><pre class="language-js"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  root<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token keyword">extends</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'@w6s'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  rules<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token operator">...</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

</code></pre></div><h3 id="stylelint"><a href="#stylelint" class="header-anchor">#</a> stylelint</h3> <p>stylelint 使用的是<code>@w6s/stylelint-plugin</code>，相关配置请查看<code>stylelint.config.js</code>，当前使用的规范是<code>@w6s/stylelint-config</code>。</p> <div class="language-js extra-class"><pre class="language-js"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token string">&quot;extends&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;@w6s/stylelint-config&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="typescript"><a href="#typescript" class="header-anchor">#</a> typescript</h3> <p>相关配置请查看<code>tsconfig.json</code>。</p> <h3 id="mock"><a href="#mock" class="header-anchor">#</a> mock</h3> <p>API mock 服务功能，是通过<code>@w6s/mock-plugin</code>实现的。依赖于 webpack 的 dev-server，通过 express 中间件的方式来达到模拟请求的效果，所有请求都可以在调试器的 network 一栏查看。插件的默认配置在<code>w6s.config.js</code>里，如果不需要，可以将<code>disable</code>设置为<code>true</code>。</p> <p>API 的模拟，默认放置在<code>/mock/index.js</code>里，<code>@w6s/mock-plugin</code>会监听文件的变化，并自动重置所有请求配置。</p> <blockquote><p>模拟接口的配置文件，必须按 node.js 的模块规范来导出，暂不支持以 es 的模块导出。</p></blockquote> <h3 id="vconsole"><a href="#vconsole" class="header-anchor">#</a> vConsole</h3> <p><a href="https://github.com/Tencent/vConsole" target="_blank" rel="noopener noreferrer">vConsole<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 是腾讯开源的一个轻量、可拓展、针对手机网页的前端开发者调试面板。</p> <p>通过<code>@w6s/vconsole-plugin</code>插件，会自动判断当前环境，只会在开发模式下，也就是<code>process.env.NODE_ENV === 'development'</code>时，自动为项目引入 vConsole，便于在移动设备调试。</p> <p>当前该插件默认在 H5 项目模版启用。</p> <h3 id="sentry"><a href="#sentry" class="header-anchor">#</a> Sentry</h3> <p>Sentry 是一个实时的事件日志记录和聚合平台。当前我们团队也私有化部署了一套，可以通过<a href="https://sentry.workplus.io/sentry/" target="_blank" rel="noopener noreferrer">https://sentry.workplus.io/sentry/<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>访问。</p> <p>而该插件的功能由<code>@w6s/sentry-plugin</code>插件提供，主要是用于在项目打包后，上传前端资源文件，例如 js 的<code>sourcemap</code>文件。</p> <p>想了解更多使用 Sentry 的知识，请访问 <a href="/dev/DevOps/sentry.html">使用 Sentry</a>。</p> <h3 id="i18n"><a href="#i18n" class="header-anchor">#</a> i18n</h3> <p>该插件使用的是一个叫<a href="https://github.com/kazupon/vue-cli-plugin-i18n" target="_blank" rel="noopener noreferrer">vue-cli-plugin-i18n<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>的第三方 vue-cli 插件，该插件会注册一个名为<code>i18n:report</code>的<code>command</code>命令，该命令的主要作用就是检测当前的国际化配置中，哪些属性有遗漏或未被使用。有利于检测国际化配置的完整性，避免不必要的低级错误。</p> <p>国际化文件，默认存放到<code>src/locales/</code>内，为保证统一性，请勿随意修改目录。</p> <h3 id="style-resources-loader"><a href="#style-resources-loader" class="header-anchor">#</a> style-resources-loader</h3> <p>该插件是通过<code>@w6s/style-resources-loader-plugin</code>实现。主要是依赖了<a href="https://github.com/yenshih/style-resources-loader" target="_blank" rel="noopener noreferrer">style-resources-loader<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>模块。</p> <p>该 loader 主要用于：</p> <ul><li>在所有样式文件中共享变量，mixin，函数，因此您无需手动 @import 它们；</li> <li>覆盖其他库提供的样式文件中的变量（例如 element-ui），并自定义您自己的主题。</li></ul> <h2 id="项目规范"><a href="#项目规范" class="header-anchor">#</a> 项目规范</h2> <h3 id="eslint-2"><a href="#eslint-2" class="header-anchor">#</a> eslint</h3> <p>具体规范配置，可查看<a href="https://github.com/WorkPlusFE/eslint-config/blob/master/index.js" target="_blank" rel="noopener noreferrer">@w6s/eslint-config<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。</p> <p>主要规范包括：</p> <ul><li><a href="https://github.com/vuejs/eslint-config-airbnb/blob/master/index.js" target="_blank" rel="noopener noreferrer">@vue/eslint-config-airbnb<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://github.com/vuejs/eslint-config-typescript/blob/master/recommended.js" target="_blank" rel="noopener noreferrer">@vue/eslint-config-typescript/recommended<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <p>关于 Airbnb 的 JavaScript 规范，可以查看<a href="https://github.com/airbnb/javascript#airbnb-javascript-style-guide-" target="_blank" rel="noopener noreferrer">这里<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。</p> <h3 id="stylelint-2"><a href="#stylelint-2" class="header-anchor">#</a> stylelint</h3> <p>具体规范配置，可查看<a href="https://github.com/WorkPlusFE/stylelint-config/blob/master/index.js" target="_blank" rel="noopener noreferrer">@w6s/stylelint-config<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>主要规范包括：</p> <ul><li><a href="https://github.com/airbnb/css#airbnb-css--sass-styleguide" target="_blank" rel="noopener noreferrer">stylelint-config-airbnb<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://github.com/constverum/stylelint-config-rational-order#stylelint-config-rational-order" target="_blank" rel="noopener noreferrer">stylelint-config-rational-order<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <h3 id="commitlint"><a href="#commitlint" class="header-anchor">#</a> commitlint</h3> <p>借助 <a href="https://github.com/typicode/husky" target="_blank" rel="noopener noreferrer">husky<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>，我们可以在 git hook 中定义事件，用于进行多种检测。实际在每次代码提交到仓库前，都会执行 js 及样式的规范检测及自动修复。</p> <p>除此之外，为了更好地管理项目的提交记录，我们还会检测提交代码时输入的<code>commit message</code>，使用的是<a href="https://github.com/conventional-changelog/commitlint" target="_blank" rel="noopener noreferrer">@commitlint/config-conventional&quot;<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>规范。</p> <p>基本写法：</p> <div class="language-bash extra-class"><pre class="language-bash"><code>type<span class="token punctuation">(</span>scope?<span class="token punctuation">)</span>: subject  <span class="token comment">#scope is optional</span>
</code></pre></div></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/WorkPlusFE/cli/edit/master/docs/README.md" target="_blank" rel="noopener noreferrer">帮助 WorkPlusFE 改善此页面！</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">最后更新时间:</span> <span class="time">12/15/2020, 9:54:23 AM</span></div></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/dev/assets/js/app.e2738474.js" defer></script><script src="/dev/assets/js/2.e5260363.js" defer></script><script src="/dev/assets/js/11.dfe0b9ae.js" defer></script>
  </body>
</html>
